(this["webpackJsonpreact-graph-ql-apollo"]=this["webpackJsonpreact-graph-ql-apollo"]||[]).push([[0],{37:function(e,a,n){e.exports=n.p+"static/media/rocket-128px.69a6a822.svg"},47:function(e,a,n){e.exports=n(66)},52:function(e,a,n){},53:function(e,a,n){},54:function(e,a,n){},55:function(e,a,n){},62:function(e,a,n){},64:function(e,a,n){},66:function(e,a,n){"use strict";n.r(a);var t=n(1),r=n.n(t),l=n(36),c=n.n(l),i=(n(52),n(53),n(45)),o=n(6),s=n(20),m=n(19),u=n(67),d=n(18),p=n(14),f=n.n(p);function h(){var e=Object(d.a)(["\n  query getPastLaunches( $limit: Int = 8, $offset: Int = 0  ){\n    launchesPast(limit: $limit, offset: $offset) {\n      id\n      mission_name\n      launch_date_local\n      links {\n        article_link\n        video_link\n        flickr_images\n      }\n      rocket {\n        rocket_name\n        first_stage {\n          cores {\n            core {\n              status\n            }\n          }\n        }\n        #   second_stage {\n        #     payloads {\n        #       payload_type\n        #       payload_mass_kg\n        #       payload_mass_lbs\n        #     }\n        #   }\n      }\n      ships {\n        home_port\n        # image\n      }\n    }\n  }\n"]);return h=function(){return e},e}var v=f()(h()),E=(n(54),n(55),n(37)),g=n.n(E),k=function(){return r.a.createElement("img",{className:"rocket",src:g.a,alt:"loader-icon"})},_=function(){return r.a.createElement("div",{className:"lds-ripple"}," ",r.a.createElement("div",null)," ",r.a.createElement("div",null)," ")},b=function(){return r.a.createElement("div",{className:"alert alert-danger"},"Something went wrong")},y=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";return r.a.createElement("div",{className:"alert alert-"+a},e)},N=function(e){if(e)return e.split("T").shift().split("-").reverse().join("/")},w=function(e){return e&&e.substring(0,e.search(".jpg")-1)+"c.jpg"},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;return e.length>0?w(e[0]):w(a)},O=function(){return r.a.createElement(u.a,{query:v},(function(e){var a=e.data,n=e.loading,t=e.error;return n?k():t?b():r.a.createElement("div",{className:"container"},a.launchesPast.map((function(e){var a=e.mission_name,n=e.launch_date_local,t=e.links,l=e.ships,c=e.rocket,i=e.id;return r.a.createElement("div",{className:"card --lunches",key:i},r.a.createElement(s.b,{to:"/React-GraphQL-Apollo-Client-/launch/"+i},r.a.createElement("figure",{className:"card-photo"},r.a.createElement("span",{className:"date"}," ",N(n)),r.a.createElement("img",{src:j(t.flickr_images,l.image),alt:l.home_port}))),r.a.createElement("h3",{className:"card-title"},a),r.a.createElement("span",{className:"card-desc"},c.rocket_name," as rocket"),l.home_port&&r.a.createElement("span",{className:"card-desc"}," from: ",l.home_port))})))}))},x=n(15);n(62);function $(){var e=Object(d.a)(["\n  query GetLaunch($id: ID!) {\n    launch(id: $id) {\n      mission_name\n      rocket {\n        second_stage {\n          payloads {\n            orbit\n            payload_mass_kg\n            manufacturer\n          }\n        }\n        rocket_name\n      }\n      ships {\n        home_port\n        year_built\n        name\n        active\n      }\n      launch_site {\n        site_name\n      }\n      launch_year\n      links {\n        flickr_images\n        reddit_media\n        video_link\n        article_link\n        wikipedia\n      }\n      details\n      launch_date_local\n    }\n  }\n"]);return $=function(){return e},e}var A=f()($()),L=function(){var e=Object(m.f)().id,a=Object(x.b)(A,{variables:{id:e}}),n=a.loading,t=a.error,l=a.data;if(n)return k();if(t)return b();var c=l.launch,i=c.rocket.second_stage.payloads,o=i.manufacturer,s=i.orbit,u=i.payload_mass_kg,d=c.ships.home_port||c.launch_site.site_name;return r.a.createElement("div",{className:"container middle"},r.a.createElement("div",{className:"card --lunches-details"},r.a.createElement("h1",{className:"card-title"},"mission: ",c.mission_name,r.a.createElement("span",{className:"card-desc"},"  ",N(c.launch_date_local))),r.a.createElement("h2",{className:"capitalized"}," Launch Details"),r.a.createElement("p",null,c.details),r.a.createElement("p",null,"The rocket ",c.rocket.rocket_name,s?" fly on the orbit "+s:"",",",d?" from "+d:"",u?" with self mass of "+u:"",". It built on ",c.ships.year_built,o?"by "+o:"","and currently it is ",c.ships.active?" active":" not active","."),r.a.createElement("div",{className:"photo-grid"},c.links.flickr_images&&c.links.flickr_images.map((function(e,a){return r.a.createElement("figure",{className:"card-photo",key:a},r.a.createElement("img",{src:w(e),alt:c.mission_name+"on luanch day"}))}))),r.a.createElement("div",{className:"links"},r.a.createElement("span",null,"more info:  "),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.links.wikipedia},"wikipedia"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.links.reddit_media},"reddit"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.links.video_link},"video"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.links.article_link},"article/s"))))},C=n(23),S=n.n(C),G=n(31),q=n(26),I=n(44),Q=n(27);function R(){var e=Object(d.a)(["\nmutation addUser($objects: [users_insert_input!]!) {\n  insert_users(objects: $objects) {\n    affected_rows\n  }\n}\n"]);return R=function(){return e},e}var z=f()(R());function F(){var e=Object(d.a)(["\n  query getUsers( $limit: Int = 10, $offset: Int = 0  ){\n    users(limit: $limit, offset: $offset) {\n      twitter\n      rocket\n      name\n    }\n}\n"]);return F=function(){return e},e}var P=f()(F()),U=(n(64),function(){var e=Object(x.b)(P),a=e.data,n=e.loading,t=e.error;return n?_():t?b():a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"users-grid --header"},r.a.createElement("span",{className:"capitalized bold"}," name  "),r.a.createElement("span",{className:"capitalized bold"}," rocket name"),r.a.createElement("span",{className:"capitalized bold"}," twitter ")),a.users&&a.users.map((function(e,a){return r.a.createElement("div",{className:"users-grid",key:a},r.a.createElement("span",{className:"capitalized"}," ",e.name," "),r.a.createElement("span",null," ",e.rocket," "),r.a.createElement("span",null," ",e.twitter," "))}))):y("Not Found","warning")}),D=function(){var e=Object(t.useRef)(),a=Object(x.a)(z),n=Object(Q.a)(a,2),l=n[0],c=n[1],i=c.loading,o=c.error,s=Object(t.useState)(!1),m=Object(Q.a)(s,2),u=m[0],d=m[1],p=Object(t.useState)({}),f=Object(Q.a)(p,2),h=f[0],v=f[1],E=function(e){var a=e.target,n=a.name,t=a.value;v(Object(I.a)({},h,Object(q.a)({},n,t)))},g=function(){var a=Object(G.a)(S.a.mark((function a(n){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),t=function(e,a){return typeof e===a},h.name&&!t(h.name,"String")&&h.rocket&&!t(h.rocket,"String")){a.next=6;break}return d(!0),setTimeout((function(){d(!1)}),2800),a.abrupt("return");case 6:return a.prev=7,a.next=10,l({variables:{objects:[{name:h.name,rocket:h.rocket}]}});case 10:v({}),e.current.reset(),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(7),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[7,13]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"container wide"},r.a.createElement("form",{className:"users",ref:e,onSubmit:function(){var e=Object(G.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},r.a.createElement("label",{htmlFor:"name"},"name:",r.a.createElement("input",{disabled:i,onChange:function(e){return E(e)},type:"text",name:"name"})),r.a.createElement("label",{htmlFor:"rocket"},"rocket name propusal:",r.a.createElement("input",{disabled:i,onChange:function(e){return E(e)},type:"text",name:"rocket"})),r.a.createElement("label",{htmlFor:"twitter"},"twitter:",r.a.createElement("input",{disabled:i,onChange:function(e){return E(e)},type:"text",name:"twitter"})),r.a.createElement("button",{type:"submit"}," ",i?_():"send"),u&&y(" Please provide name and rocket name, only string allowed","warning")),i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new user";return r.a.createElement("div",{className:"alert alert-info"},"Saving ",e,"...")}(),o&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to save the user";return r.a.createElement("div",{className:"alert alert-danger"},"An error occurred! ",e,".")}(),r.a.createElement("div",null,r.a.createElement(U,null)))},T=new i.a({uri:"https://api.spacex.land/graphql/"});var B=function(){return r.a.createElement(o.a,{client:T},r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"SpaceX Graph-QL",r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/React-GraphQL-Apollo-Client-/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/React-GraphQL-Apollo-Client-/add-user"},"Add User")))))),r.a.createElement("div",{className:"App-container"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/React-GraphQL-Apollo-Client-/",component:O}),r.a.createElement(m.a,{path:"/React-GraphQL-Apollo-Client-/launch/:id",component:L}),r.a.createElement(m.a,{path:"/React-GraphQL-Apollo-Client-/add-user",component:D})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.5de790d2.chunk.js.map